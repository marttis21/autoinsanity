<script>
    // get models when brand is selected
    var $brand = $('#brand');
    $brand.change(function () {
        var $form = $(this).closest('form');
        var data = { };
        data[$brand.attr('name')] = $brand.val();
        $.ajax({
            url : "{{ url('detailed_search') }}",
            type: $form.attr('method'),
            data : data,
            success: function(html) {
                console.log($('#model').innerHTML);
                $('#model').replaceWith(
                    $(html).find('#model')
                );
            }
        });
    });

    // get cities when country is selected
    var $country = $('#country');
    $country.change(function () {
        var $form = $(this).closest('form');
        var data = { };
        data[$country.attr('name')] = $country.val();
        $.ajax({
            url : "{{ url('detailed_search') }}",
            type: $form.attr('method'),
            data : data,
            success: function(html) {
                console.log($('#city').innerHTML);
                $('#city').replaceWith(
                    $(html).find('#city')
                );
            }
        });
    });
</script>
